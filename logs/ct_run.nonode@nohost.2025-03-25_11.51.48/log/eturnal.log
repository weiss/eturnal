2025-03-25 11:51:48.929265+00:00 [notice] Starting eturnal 1.12.1 on Erlang/OTP 27 (ERTS 15.2.3) (eturnal_app:start/2:34)
2025-03-25 11:51:48.929400+00:00 [debug] Starting supervisor: eturnal_sup (eturnal_sup:start_link/0:31)
2025-03-25 11:51:48.929513+00:00 [debug] Configuring eturnal_sup supervisor: [#{id => systemd,
                                       start =>
                                           {eturnal_systemd,start_link,[]}},
                                     #{id => eturnal,
                                       start => {eturnal,start_link,[]}}] (eturnal_sup:init/0:39)
2025-03-25 11:51:48.930942+00:00 [info] Got no NOTIFY_SOCKET, notifications disabled (eturnal_systemd:init/1:86)
2025-03-25 11:51:48.931057+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,eturnal_sup}
    started: [{pid,<0.1027.0>},
              {id,systemd},
              {mfargs,{eturnal_systemd,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:48.931149+00:00 [info] Relay IPv4 address: 127.0.0.1 (port range: 49152-65535) (eturnal:log_relay_addresses/0:349)
2025-03-25 11:51:48.931299+00:00 [info] Relay IPv6 address not configured (eturnal:log_relay_addresses/0:359)
2025-03-25 11:51:48.940790+00:00 [info] Cannot determine control query port: noport (eturnal:log_control_listener/0:374)
2025-03-25 11:51:48.941073+00:00 [debug] Using run directory run (eturnal:ensure_run_dir/0:860)
2025-03-25 11:51:48.941194+00:00 [debug] TURN configuration seems fine (eturnal:check_turn_config/0:604)
2025-03-25 11:51:48.941369+00:00 [warning] TLS enabled without 'tls_crt_file', creating self-signed certificate (eturnal:check_pem_file/0:806)
2025-03-25 11:51:49.706772+00:00 [debug] Calling mod_stats_influx:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:49.707042+00:00 [debug] Starting mod_stats_influx (mod_stats_influx:start/0:37)
2025-03-25 11:51:49.709641+00:00 [debug] PROGRESS REPORT:
    application: ulitos
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.710697+00:00 [debug] PROGRESS REPORT:
    application: poolboy
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.711871+00:00 [info]     msg: Starting application: influx_udp (influx_udp_app:start/2:10)
2025-03-25 11:51:49.716010+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,influx_udp_sup}
    started: [{pid,<0.1043.0>},
              {id,influx_udp},
              {mfargs,{influx_udp,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.716208+00:00 [debug] PROGRESS REPORT:
    application: influx_udp
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.716269+00:00 [debug] Dependency influx_udp was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:49.718313+00:00 [info]     options: #{port => 8089,host => "localhost",pool_size => 1,
               max_overflow => 1}
    msg: Start clients pool
    host: {127,0,0,1} (influx_udp:start_pool_/2:239)
2025-03-25 11:51:49.725474+00:00 [info]     port: 58867
    msg: Open UDP socket on port (influx_udp_worker:init/1:43)
2025-03-25 11:51:49.725686+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,influx_udp_sup}
    started: [{pid,<0.1046.0>},
              {id,stats_influx_pool},
              {mfargs,
                  {poolboy,start_link,
                      [[{name,{local,stats_influx_pool}},
                        {worker_module,influx_udp_worker},
                        {size,1},
                        {max_overflow,1}],
                       [{options,
                            #{port => 8089,
                              host => {127,0,0,1},
                              pool_size => 1,max_overflow => 1}}]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/3:2145)
2025-03-25 11:51:49.725914+00:00 [info] Started mod_stats_influx (eturnal:start_modules/0:385)
2025-03-25 11:51:49.726039+00:00 [debug] Calling mod_log_stun:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:49.726167+00:00 [debug] Starting mod_log_stun (mod_log_stun:start/0:38)
2025-03-25 11:51:49.726320+00:00 [info] Started mod_log_stun (eturnal:start_modules/0:385)
2025-03-25 11:51:49.726415+00:00 [debug] Calling mod_stats_prometheus:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:49.728385+00:00 [debug] Starting mod_stats_prometheus (mod_stats_prometheus:start/0:56)
2025-03-25 11:51:49.741661+00:00 [debug] PROGRESS REPORT:
    application: prometheus
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.743455+00:00 [debug] PROGRESS REPORT:
    application: accept
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.754077+00:00 [debug] PROGRESS REPORT:
    application: prometheus_httpd
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.754085+00:00 [debug] Dependency prometheus_httpd was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:49.783635+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1064.0>},
              {id,{httpd_connection_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_connection_sup,start_link,[[{127,0,0,1},9081]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.786159+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1065.0>},
              {id,{httpd_misc_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_misc_sup,start_link,[{127,0,0,1},9081,default]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.789617+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1066.0>},
              {id,{httpd_manager,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_manager,start_link,
                      [undefined,
                       [{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,4000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.802318+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_acceptor_sup__127_0_0_1__9081default}
    started: [{pid,<0.1068.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_acceptor,start_link,
                                      [httpd__127_0_0_1__9081default,ip_comm,
                                       {127,0,0,1},
                                       9081,inet,
                                       httpd_conf__127_0_0_1__9081default,
                                       15000]}},
              {restart_type,transient},
              {significant,false},
              {shutdown,brutal_kill},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.802484+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1067.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_acceptor_sup,start_link,
                      [[{127,0,0,1},
                        9081,
                        [{bind_address,{127,0,0,1}},
                         {socket_type,ip_comm},
                         {port,9081},
                         {server_root,"run/mod_stats_prometheus/doc"},
                         {document_root,"run/mod_stats_prometheus/doc"},
                         {server_name,"Prometheus Exporter"},
                         {modules,[prometheus_httpd]}],
                        15000,undefined]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.802617+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_sup}
    started: [{pid,<0.1063.0>},
              {id,{httpd_instance_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_instance_sup,start_link,
                      [[{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000,[]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2145)
2025-03-25 11:51:49.803210+00:00 [info] Started mod_stats_prometheus (eturnal:start_modules/0:385)
2025-03-25 11:51:49.803399+00:00 [debug] Starting listener 127.0.0.1:34780 (udp) with options:
[{use_turn,true},
 {auth_type,user},
 {turn_ipv4_address,{127,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2},
 {turn_blacklist_clients,[{{127,0,0,1},8}]},
 {turn_blacklist_peers,[{{10,0,0,0},8},
                        {{100,64,0,0},10},
                        {{127,0,0,0},8},
                        {{169,254,0,0},16},
                        {{172,16,0,0},12},
                        {{192,0,0,0},24},
                        {{192,0,2,0},24},
                        {{192,88,99,0},24},
                        {{192,168,0,0},16},
                        {{198,18,0,0},15},
                        {{198,51,100,0},24},
                        {{203,0,113,0},24},
                        {{224,0,0,0},4},
                        {{240,0,0,0},4},
                        {{0,0,0,0,0,0,0,1},128},
                        {{100,65435,0,0,0,0,0,0},96},
                        {{256,0,0,0,0,0,0,0},64},
                        {{8193,3512,0,0,0,0,0,0},32},
                        {{64512,0,0,0,0,0,0,0},7},
                        {{65152,0,0,0,0,0,0,0},10},
                        {{65280,0,0,0,0,0,0,0},8}]},
 {turn_whitelist_clients,[{{127,0,0,1},32}]},
 {turn_whitelist_peers,[{{127,0,0,1},32},
                        {{203,0,113,113},32},
                        {{8193,3512,0,0,0,0,0,0},64}]}] (eturnal:start_listeners/0:420)
2025-03-25 11:51:49.822059+00:00 [info] Listening on 127.0.0.1:34780 (udp) (STUN/TURN) (eturnal:start_listeners/0:427)
2025-03-25 11:51:49.822233+00:00 [debug] Starting listener 127.0.0.1:34780 (tcp) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {turn_ipv4_address,{127,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2},
 {turn_blacklist_clients,[{{127,0,0,1},8}]},
 {turn_blacklist_peers,[{{10,0,0,0},8},
                        {{100,64,0,0},10},
                        {{127,0,0,0},8},
                        {{169,254,0,0},16},
                        {{172,16,0,0},12},
                        {{192,0,0,0},24},
                        {{192,0,2,0},24},
                        {{192,88,99,0},24},
                        {{192,168,0,0},16},
                        {{198,18,0,0},15},
                        {{198,51,100,0},24},
                        {{203,0,113,0},24},
                        {{224,0,0,0},4},
                        {{240,0,0,0},4},
                        {{0,0,0,0,0,0,0,1},128},
                        {{100,65435,0,0,0,0,0,0},96},
                        {{256,0,0,0,0,0,0,0},64},
                        {{8193,3512,0,0,0,0,0,0},32},
                        {{64512,0,0,0,0,0,0,0},7},
                        {{65152,0,0,0,0,0,0,0},10},
                        {{65280,0,0,0,0,0,0,0},8}]},
 {turn_whitelist_clients,[{{127,0,0,1},32}]},
 {turn_whitelist_peers,[{{127,0,0,1},32},
                        {{203,0,113,113},32},
                        {{8193,3512,0,0,0,0,0,0},64}]}] (eturnal:start_listeners/0:420)
2025-03-25 11:51:49.822943+00:00 [info] Listening on 127.0.0.1:34780 (tcp) (STUN only) (eturnal:start_listeners/0:427)
2025-03-25 11:51:49.823067+00:00 [debug] Starting listener 127.0.0.1:53490 (tls) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {tls,true},
 {certfile,<<"run/cert.pem">>},
 {ciphers,<<"HIGH:!aNULL:@STRENGTH">>},
 {protocol_options,<<"no_tlsv1|no_tlsv1_1|cipher_server_preference">>},
 {turn_ipv4_address,{127,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2},
 {turn_blacklist_clients,[{{127,0,0,1},8}]},
 {turn_blacklist_peers,[{{10,0,0,0},8},
                        {{100,64,0,0},10},
                        {{127,0,0,0},8},
                        {{169,254,0,0},16},
                        {{172,16,0,0},12},
                        {{192,0,0,0},24},
                        {{192,0,2,0},24},
                        {{192,88,99,0},24},
                        {{192,168,0,0},16},
                        {{198,18,0,0},15},
                        {{198,51,100,0},24},
                        {{203,0,113,0},24},
                        {{224,0,0,0},4},
                        {{240,0,0,0},4},
                        {{0,0,0,0,0,0,0,1},128},
                        {{100,65435,0,0,0,0,0,0},96},
                        {{256,0,0,0,0,0,0,0},64},
                        {{8193,3512,0,0,0,0,0,0},32},
                        {{64512,0,0,0,0,0,0,0},7},
                        {{65152,0,0,0,0,0,0,0},10},
                        {{65280,0,0,0,0,0,0,0},8}]},
 {turn_whitelist_clients,[{{127,0,0,1},32}]},
 {turn_whitelist_peers,[{{127,0,0,1},32},
                        {{203,0,113,113},32},
                        {{8193,3512,0,0,0,0,0,0},64}]}] (eturnal:start_listeners/0:420)
2025-03-25 11:51:49.823716+00:00 [info] Listening on 127.0.0.1:53490 (tls) (STUN only) (eturnal:start_listeners/0:427)
2025-03-25 11:51:49.823837+00:00 [debug] Starting listener 127.0.0.1:34781 (auto) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {tls,optional},
 {certfile,<<"run/cert.pem">>},
 {ciphers,<<"HIGH:!aNULL:@STRENGTH">>},
 {protocol_options,<<"no_tlsv1|no_tlsv1_1|cipher_server_preference">>},
 {turn_ipv4_address,{127,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2},
 {turn_blacklist_clients,[{{127,0,0,1},8}]},
 {turn_blacklist_peers,[{{10,0,0,0},8},
                        {{100,64,0,0},10},
                        {{127,0,0,0},8},
                        {{169,254,0,0},16},
                        {{172,16,0,0},12},
                        {{192,0,0,0},24},
                        {{192,0,2,0},24},
                        {{192,88,99,0},24},
                        {{192,168,0,0},16},
                        {{198,18,0,0},15},
                        {{198,51,100,0},24},
                        {{203,0,113,0},24},
                        {{224,0,0,0},4},
                        {{240,0,0,0},4},
                        {{0,0,0,0,0,0,0,1},128},
                        {{100,65435,0,0,0,0,0,0},96},
                        {{256,0,0,0,0,0,0,0},64},
                        {{8193,3512,0,0,0,0,0,0},32},
                        {{64512,0,0,0,0,0,0,0},7},
                        {{65152,0,0,0,0,0,0,0},10},
                        {{65280,0,0,0,0,0,0,0},8}]},
 {turn_whitelist_clients,[{{127,0,0,1},32}]},
 {turn_whitelist_peers,[{{127,0,0,1},32},
                        {{203,0,113,113},32},
                        {{8193,3512,0,0,0,0,0,0},64}]}] (eturnal:start_listeners/0:420)
2025-03-25 11:51:49.836643+00:00 [info] Listening on 127.0.0.1:34781 (auto) (STUN only) (eturnal:start_listeners/0:427)
2025-03-25 11:51:49.836755+00:00 [debug] Started 3 modules (eturnal:init/1:105)
2025-03-25 11:51:49.836820+00:00 [debug] Started 4 listeners (eturnal:init/1:106)
2025-03-25 11:51:49.836895+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,eturnal_sup}
    started: [{pid,<0.1029.0>},
              {id,eturnal},
              {mfargs,{eturnal,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:49.837039+00:00 [debug] No NOTIFY_SOCKET, dropping READY=1 notification (eturnal_systemd:handle_cast/2:99)
2025-03-25 11:51:49.837039+00:00 [debug] PROGRESS REPORT:
    application: eturnal
    started_at: nonode@nohost
 (application_controller:info_started/2:2113)
2025-03-25 11:51:49.863166+00:00 [debug] Handling API call: get_status() (eturnal_ctl:get_status/0:129)
2025-03-25 11:51:49.863316+00:00 [debug] eturnal call (get_status) returned ok (eturnal_ctl:call/1:442)
2025-03-25 11:51:49.887164+00:00 [debug] Handling API call: get_info() (eturnal_ctl:get_info/0:139)
2025-03-25 11:51:49.887795+00:00 [debug] eturnal call (get_info) returned {ok,
                                  {eturnal_node_info,<<"1.12.1">>,
                                   {"27","15.2.3"},
                                   2882,0,178,104476249,2,61611672}} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.911568+00:00 [debug] Handling API call: get_sessions() (eturnal_ctl:get_sessions/0:100)
2025-03-25 11:51:49.935320+00:00 [debug] Handling API call: get_sessions("alice") (eturnal_ctl:get_sessions/1:110)
2025-03-25 11:51:49.935534+00:00 [debug] Handling API call: get_sessions("1256900400:alice") (eturnal_ctl:get_sessions/1:110)
2025-03-25 11:51:49.935766+00:00 [debug] Handling API call: get_sessions(alice) (eturnal_ctl:get_sessions/1:110)
2025-03-25 11:51:49.935895+00:00 [debug] Cannot convert user name to binary: alice (eturnal_ctl:get_sessions/1:123)
2025-03-25 11:51:49.959285+00:00 [debug] Handling API call: disconnect("alice") (eturnal_ctl:disconnect/1:188)
2025-03-25 11:51:49.959533+00:00 [debug] Handling API call: disconnect(alice) (eturnal_ctl:disconnect/1:188)
2025-03-25 11:51:49.959634+00:00 [debug] Cannot convert user name to binary: alice (eturnal_ctl:disconnect/1:198)
2025-03-25 11:51:49.983216+00:00 [debug] Handling API call: get_credentials("2009-10-30 11:00:00Z", []) (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.983443+00:00 [debug] eturnal call ({get_password,<<"1256900400">>}) returned {ok,
                                                         <<"uEKlpcME7MNMMVRV8rUFPCTIFEs=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.987125+00:00 [debug] Handling API call: get_credentials("86400", "alice") (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.987411+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.987558+00:00 [debug] Handling API call: get_password("1742989909:alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.987691+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.987875+00:00 [debug] Handling API call: get_credentials("86400s", "alice") (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.988017+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.988173+00:00 [debug] Handling API call: get_password("1742989909:alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.988327+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.988503+00:00 [debug] Handling API call: get_credentials("1440m", "alice") (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.988664+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.988812+00:00 [debug] Handling API call: get_password("1742989909:alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.988949+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.989143+00:00 [debug] Handling API call: get_credentials("24h", "alice") (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.989291+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.989438+00:00 [debug] Handling API call: get_password("1742989909:alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.989551+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.989723+00:00 [debug] Handling API call: get_credentials("1d", "alice") (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.989860+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.990007+00:00 [debug] Handling API call: get_password("1742989909:alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.990133+00:00 [debug] eturnal call ({get_password,<<"1742989909:alice">>}) returned {ok,
                                                               <<"iRh+ElfvhYkbuMiKtO3CpleRQ5k=">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:49.990303+00:00 [debug] Handling API call: get_password("Invalid") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.990446+00:00 [debug] eturnal call ({get_password,<<"Invalid">>}) returned {error,no_credentials} (eturnal_ctl:call/1:448)
2025-03-25 11:51:49.990568+00:00 [debug] Handling API call: get_credentials("Invalid", []) (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.990659+00:00 [debug] Invalid argument(s): "Invalid":[] (eturnal_ctl:get_credentials/2:73)
2025-03-25 11:51:49.990769+00:00 [debug] Handling API call: get_password(invalid) (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.990876+00:00 [debug] Cannot convert user name to binary: invalid (eturnal_ctl:get_password/1:94)
2025-03-25 11:51:49.990970+00:00 [debug] Handling API call: get_credentials(invalid, []) (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.991099+00:00 [debug] Invalid argument(s): invalid:[] (eturnal_ctl:get_credentials/2:73)
2025-03-25 11:51:49.991187+00:00 [debug] Handling API call: get_password([invalid]) (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.991321+00:00 [debug] Cannot convert user name to binary: [invalid] (eturnal_ctl:get_password/1:94)
2025-03-25 11:51:49.991417+00:00 [debug] Handling API call: get_credentials([invalid], []) (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.991508+00:00 [debug] Invalid argument(s): [invalid]:[] (eturnal_ctl:get_credentials/2:73)
2025-03-25 11:51:49.991640+00:00 [debug] Handling API call: get_credentials(1256900400, invalid) (eturnal_ctl:get_credentials/2:60)
2025-03-25 11:51:49.991754+00:00 [debug] Invalid argument(s): 1256900400:invalid (eturnal_ctl:get_credentials/2:73)
2025-03-25 11:51:49.991910+00:00 [debug] Handling API call: get_password("alice") (eturnal_ctl:get_password/1:79)
2025-03-25 11:51:49.992017+00:00 [debug] eturnal call ({get_password,<<"alice">>}) returned {ok,<<"l0vesBob">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:50.016173+00:00 [debug] Handling API call: set_loglevel(debug) (eturnal_ctl:set_loglevel/1:169)
2025-03-25 11:51:50.016384+00:00 [debug] eturnal call ({set_loglevel,debug}) returned ok (eturnal_ctl:call/1:442)
2025-03-25 11:51:50.016558+00:00 [debug] Handling API call: get_loglevel() (eturnal_ctl:get_loglevel/0:159)
2025-03-25 11:51:50.016677+00:00 [debug] eturnal call (get_loglevel) returned {ok,debug} (eturnal_ctl:call/1:445)
2025-03-25 11:51:50.016826+00:00 [debug] Handling API call: set_loglevel(invalid) (eturnal_ctl:set_loglevel/1:169)
2025-03-25 11:51:50.016916+00:00 [debug] Invalid log level: invalid (eturnal_ctl:set_loglevel/1:179)
2025-03-25 11:51:50.017050+00:00 [debug] Handling API call: get_loglevel() (eturnal_ctl:get_loglevel/0:159)
2025-03-25 11:51:50.017145+00:00 [debug] eturnal call (get_loglevel) returned {ok,debug} (eturnal_ctl:call/1:445)
2025-03-25 11:51:50.040066+00:00 [debug] Handling API call: get_version() (eturnal_ctl:get_version/0:149)
2025-03-25 11:51:50.040250+00:00 [debug] eturnal call (get_version) returned {ok,<<"1.12.1">>} (eturnal_ctl:call/1:445)
2025-03-25 11:51:50.064354+00:00 [debug] Handling API call: reload() (eturnal_ctl:reload/0:204)
2025-03-25 11:51:50.066683+00:00 [debug] Calling mod_log_stun:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.066809+00:00 [debug] Calling mod_stats_influx:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.066883+00:00 [debug] Calling mod_stats_prometheus:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.067535+00:00 [warning] TLS enabled without 'tls_crt_file', creating self-signed certificate (eturnal:check_pem_file/0:806)
2025-03-25 11:51:50.292249+00:00 [info] Using new TLS certificate (eturnal:reload/1:631)
2025-03-25 11:51:50.292607+00:00 [debug] Calling mod_stats_influx:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.292743+00:00 [debug] Stopping mod_stats_influx (mod_stats_influx:stop/0:61)
2025-03-25 11:51:50.292848+00:00 [info] Stopped mod_stats_influx (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.294059+00:00 [debug] Calling mod_log_stun:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.294189+00:00 [debug] Stopping mod_log_stun (mod_log_stun:stop/0:49)
2025-03-25 11:51:50.294292+00:00 [info] Stopped mod_log_stun (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.295785+00:00 [debug] Calling mod_stats_prometheus:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.295874+00:00 [debug] Stopping mod_stats_prometheus (mod_stats_prometheus:stop/0:110)
2025-03-25 11:51:50.296192+00:00 [info] Stopped mod_stats_prometheus (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.296339+00:00 [debug] Calling mod_stats_influx:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.296435+00:00 [debug] Starting mod_stats_influx (mod_stats_influx:start/0:37)
2025-03-25 11:51:50.296542+00:00 [debug] Dependency influx_udp was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:50.296813+00:00 [info]     options: #{port => 8089,host => "localhost",pool_size => 1,
               max_overflow => 1}
    msg: Start clients pool
    host: {127,0,0,1} (influx_udp:start_pool_/2:239)
2025-03-25 11:51:50.300385+00:00 [info] Started mod_stats_influx (eturnal:start_modules/0:385)
2025-03-25 11:51:50.300493+00:00 [debug] Calling mod_log_stun:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.300590+00:00 [debug] Starting mod_log_stun (mod_log_stun:start/0:38)
2025-03-25 11:51:50.301420+00:00 [info] Started mod_log_stun (eturnal:start_modules/0:385)
2025-03-25 11:51:50.301534+00:00 [debug] Calling mod_stats_prometheus:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.301638+00:00 [debug] Starting mod_stats_prometheus (mod_stats_prometheus:start/0:56)
2025-03-25 11:51:50.301723+00:00 [debug] Dependency prometheus_httpd was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:50.302508+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1202.0>},
              {id,{httpd_connection_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_connection_sup,start_link,[[{127,0,0,1},9081]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.302668+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1203.0>},
              {id,{httpd_misc_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_misc_sup,start_link,[{127,0,0,1},9081,default]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.304325+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1204.0>},
              {id,{httpd_manager,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_manager,start_link,
                      [undefined,
                       [{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,4000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.304716+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_acceptor_sup__127_0_0_1__9081default}
    started: [{pid,<0.1206.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_acceptor,start_link,
                                      [httpd__127_0_0_1__9081default,ip_comm,
                                       {127,0,0,1},
                                       9081,inet,
                                       httpd_conf__127_0_0_1__9081default,
                                       15000]}},
              {restart_type,transient},
              {significant,false},
              {shutdown,brutal_kill},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.304839+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1205.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_acceptor_sup,start_link,
                      [[{127,0,0,1},
                        9081,
                        [{bind_address,{127,0,0,1}},
                         {socket_type,ip_comm},
                         {port,9081},
                         {server_root,"run/mod_stats_prometheus/doc"},
                         {document_root,"run/mod_stats_prometheus/doc"},
                         {server_name,"Prometheus Exporter"},
                         {modules,[prometheus_httpd]}],
                        15000,undefined]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.304955+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_sup}
    started: [{pid,<0.1201.0>},
              {id,{httpd_instance_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_instance_sup,start_link,
                      [[{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000,[]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2145)
2025-03-25 11:51:50.306544+00:00 [info] Started mod_stats_prometheus (eturnal:start_modules/0:385)
2025-03-25 11:51:50.306699+00:00 [debug] Restarted modules (eturnal:reload/1:639)
2025-03-25 11:51:50.306827+00:00 [debug] eturnal call (reload) returned ok (eturnal_ctl:call/1:442)
2025-03-25 11:51:50.307170+00:00 [debug] Handling API call: reload() (eturnal_ctl:reload/0:204)
2025-03-25 11:51:50.309352+00:00 [debug] Calling mod_log_stun:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.309504+00:00 [debug] Calling mod_stats_influx:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.309617+00:00 [debug] Calling mod_stats_prometheus:options/0 (eturnal_module:options/1:192)
2025-03-25 11:51:50.310260+00:00 [debug] Keeping PEM file (run/cert.pem) (eturnal:check_pem_file/0:803)
2025-03-25 11:51:50.310366+00:00 [debug] TLS certificate unchanged (eturnal:reload/1:633)
2025-03-25 11:51:50.311700+00:00 [debug] Calling mod_stats_influx:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.311838+00:00 [debug] Stopping mod_stats_influx (mod_stats_influx:stop/0:61)
2025-03-25 11:51:50.311933+00:00 [info] Stopped mod_stats_influx (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.313152+00:00 [debug] Calling mod_log_stun:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.313275+00:00 [debug] Stopping mod_log_stun (mod_log_stun:stop/0:49)
2025-03-25 11:51:50.313338+00:00 [info] Stopped mod_log_stun (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.316043+00:00 [debug] Calling mod_stats_prometheus:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:50.316124+00:00 [debug] Stopping mod_stats_prometheus (mod_stats_prometheus:stop/0:110)
2025-03-25 11:51:50.316515+00:00 [info] Stopped mod_stats_prometheus (eturnal:stop_modules/1:398)
2025-03-25 11:51:50.316679+00:00 [debug] Calling mod_stats_influx:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.316824+00:00 [debug] Starting mod_stats_influx (mod_stats_influx:start/0:37)
2025-03-25 11:51:50.316991+00:00 [debug] Dependency influx_udp was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:50.318479+00:00 [info]     options: #{port => 8089,host => "localhost",pool_size => 1,
               max_overflow => 1}
    msg: Start clients pool
    host: {127,0,0,1} (influx_udp:start_pool_/2:239)
2025-03-25 11:51:50.319453+00:00 [info] Started mod_stats_influx (eturnal:start_modules/0:385)
2025-03-25 11:51:50.319548+00:00 [debug] Calling mod_log_stun:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.319611+00:00 [debug] Starting mod_log_stun (mod_log_stun:start/0:38)
2025-03-25 11:51:50.320706+00:00 [info] Started mod_log_stun (eturnal:start_modules/0:385)
2025-03-25 11:51:50.320836+00:00 [debug] Calling mod_stats_prometheus:start/0 (eturnal_module:start/1:143)
2025-03-25 11:51:50.320948+00:00 [debug] Starting mod_stats_prometheus (mod_stats_prometheus:start/0:56)
2025-03-25 11:51:50.321154+00:00 [debug] Dependency prometheus_httpd was available already (eturnal_module:ensure_dep/2:284)
2025-03-25 11:51:50.321649+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1237.0>},
              {id,{httpd_connection_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_connection_sup,start_link,[[{127,0,0,1},9081]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.321783+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1238.0>},
              {id,{httpd_misc_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_misc_sup,start_link,[{127,0,0,1},9081,default]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.322037+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1239.0>},
              {id,{httpd_manager,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_manager,start_link,
                      [undefined,
                       [{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,4000},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.322370+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_acceptor_sup__127_0_0_1__9081default}
    started: [{pid,<0.1241.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,{httpd_acceptor,start_link,
                                      [httpd__127_0_0_1__9081default,ip_comm,
                                       {127,0,0,1},
                                       9081,inet,
                                       httpd_conf__127_0_0_1__9081default,
                                       15000]}},
              {restart_type,transient},
              {significant,false},
              {shutdown,brutal_kill},
              {child_type,worker}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.322497+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_instance_sup__127_0_0_1__9081default}
    started: [{pid,<0.1240.0>},
              {id,{httpd_acceptor_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_acceptor_sup,start_link,
                      [[{127,0,0,1},
                        9081,
                        [{bind_address,{127,0,0,1}},
                         {socket_type,ip_comm},
                         {port,9081},
                         {server_root,"run/mod_stats_prometheus/doc"},
                         {document_root,"run/mod_stats_prometheus/doc"},
                         {server_name,"Prometheus Exporter"},
                         {modules,[prometheus_httpd]}],
                        15000,undefined]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2135)
2025-03-25 11:51:50.322626+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,httpd_sup}
    started: [{pid,<0.1236.0>},
              {id,{httpd_instance_sup,{127,0,0,1},9081,default}},
              {mfargs,
                  {httpd_instance_sup,start_link,
                      [[{bind_address,{127,0,0,1}},
                        {socket_type,ip_comm},
                        {port,9081},
                        {server_root,"run/mod_stats_prometheus/doc"},
                        {document_root,"run/mod_stats_prometheus/doc"},
                        {server_name,"Prometheus Exporter"},
                        {modules,[prometheus_httpd]}],
                       15000,[]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,infinity},
              {child_type,supervisor}]
 (supervisor:report_progress/3:2145)
2025-03-25 11:51:50.324495+00:00 [info] Started mod_stats_prometheus (eturnal:start_modules/0:385)
2025-03-25 11:51:50.324600+00:00 [debug] Restarted modules (eturnal:reload/1:639)
2025-03-25 11:51:50.324661+00:00 [debug] eturnal call (reload) returned ok (eturnal_ctl:call/1:442)
2025-03-25 11:51:50.349223+00:00 [info] Accepting connection: 127.0.0.1:59686 -> 127.0.0.1:34780 [TCP, session 4xo74s20lmho] (stun_acceptor:accept/3:158)
2025-03-25 11:51:50.372915+00:00 [info] Accepting connection: 127.0.0.1:58082 -> 127.0.0.1:53490 [TLS, session 4qozt43cipg6] (stun_acceptor:accept/3:158)
2025-03-25 11:51:50.401385+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 6586499566794802346102246936,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.401545+00:00 [debug] Sending:
#stun{class = error,method = 3,magic = 554869826,
      trid = 6586499566794802346102246936,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = {401,<<"Unauthorized">>},
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = <<"3062153805">>,
      'REALM' = <<"eturnal.net">>,'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:50.401811+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 63072874231643280941726246890,
      raw = <<0,3,0,76,33,18,164,66,203,204,168,163,87,182,184,20,47,219,39,
              234,0,25,0,4,17,0,0,0,0,6,0,5,97,108,105,99,101,0,0,0,0,20,0,11,
              101,116,117,114,110,97,108,46,110,101,116,0,0,21,0,10,51,48,54,
              50,49,53,51,56,48,53,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = undefined,
      'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<94,208,67,202,29,41,8,210,32,161,216,56,60,98,
                              143,144,176,215,35,203>>,
      'NONCE' = <<"3062153805">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,'REQUESTED-TRANSPORT' = udp,
      'SOFTWARE' = undefined,'UNKNOWN-ATTRIBUTES' = [],
      'USERNAME' = <<"alice">>,'XOR-MAPPED-ADDRESS' = undefined,
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.401914+00:00 [debug] Looking up password for: alice [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (eturnal:get_password/2:259)
2025-03-25 11:51:50.401962+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (stun:process/2:255)
2025-03-25 11:51:50.404258+00:00 [debug] Running 'turn_session_start' hook [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (turn:run_hook/3:753)
2025-03-25 11:51:50.404335+00:00 [debug] Got 'turn_session_start' event [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.404383+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.404454+00:00 [debug] Observing started TURN session r9bg4wa1dyn8 for Prometheus [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167] (mod_stats_prometheus:on_turn_session_start/1:174)
2025-03-25 11:51:50.404671+00:00 [notice] Creating TURN allocation (lifetime: 599 seconds) [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (turn:wait_for_allocate/2:226)
2025-03-25 11:51:50.404786+00:00 [debug] Sending:
#stun{class = response,method = 3,magic = 554869826,
      trid = 63072874231643280941726246890,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 599,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},44167},
      'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = {{127,0,0,1},52284}} (turn:send/2:549)
2025-03-25 11:51:50.405042+00:00 [debug] Received:
#stun{class = request,method = 4,magic = 554869826,
      trid = 7371252198681945396815864869,
      raw = <<0,4,0,76,33,18,164,66,23,209,91,94,99,49,157,126,245,68,36,37,0,
              6,0,5,97,108,105,99,101,0,0,0,0,20,0,11,101,116,117,114,110,97,
              108,46,110,101,116,0,0,21,0,10,51,48,54,50,49,53,51,56,48,53,0,0,
              0,13,0,4,0,0,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<87,70,161,100,215,151,92,72,159,74,212,134,13,
                              163,186,205,81,121,129,39>>,
      'NONCE' = <<"3062153805">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = <<"alice">>,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.405136+00:00 [debug] Looking up password for: alice [UDP, session 8x49b0rbq4t5, user alice, client 127.0.0.1:44167] (eturnal:get_password/2:259)
2025-03-25 11:51:50.405180+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session 8x49b0rbq4t5, user alice, client 127.0.0.1:44167] (stun:process/2:255)
2025-03-25 11:51:50.405210+00:00 [info] Client requested closing the TURN session [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (turn:active/2:285)
2025-03-25 11:51:50.405292+00:00 [debug] Sending:
#stun{class = response,method = 4,magic = 554869826,
      trid = 7371252198681945396815864869,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (turn:send/2:549)
2025-03-25 11:51:50.405401+00:00 [info] Deleting TURN allocation [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (turn:terminate/3:482)
2025-03-25 11:51:50.405472+00:00 [notice] Relayed 0 KiB (in 0 B / 0 packets, out 0 B / 0 packets), duration: 0 seconds [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (turn:terminate/3:489)
2025-03-25 11:51:50.405520+00:00 [debug] Running 'turn_session_stop' hook [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (turn:run_hook/3:753)
2025-03-25 11:51:50.405560+00:00 [debug] Got 'turn_session_stop' event [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.405598+00:00 [debug] Calling mod_stats_influx:handle_event/2 [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.405606+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 31270739142678262096270347688,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.405638+00:00 [debug] Writing stats of TURN session r9bg4wa1dyn8 to InfluxDB [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (mod_stats_influx:on_turn_session_stop/1:87)
2025-03-25 11:51:50.405732+00:00 [debug] Sending:
#stun{class = error,method = 3,magic = 554869826,
      trid = 31270739142678262096270347688,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = {401,<<"Unauthorized">>},
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = <<"1270113910">>,
      'REALM' = <<"eturnal.net">>,'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:50.406710+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 44402358967113407083339121067,
      raw = <<0,3,0,80,33,18,164,66,143,120,197,62,200,1,226,21,133,237,1,171,
              0,25,0,4,17,0,0,0,0,6,0,10,50,49,52,53,57,49,51,50,48,48,0,0,0,
              20,0,11,101,116,117,114,110,97,108,46,110,101,116,0,0,21,0,10,49,
              50,55,48,49,49,51,57,49,48,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = undefined,
      'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<136,103,64,111,0,208,181,164,70,49,214,119,175,
                              241,220,229,102,192,229,184>>,
      'NONCE' = <<"1270113910">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,'REQUESTED-TRANSPORT' = udp,
      'SOFTWARE' = undefined,'UNKNOWN-ATTRIBUTES' = [],
      'USERNAME' = <<"2145913200">>,'XOR-MAPPED-ADDRESS' = undefined,
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.406833+00:00 [debug] Deriving password for: 2145913200 [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (eturnal:get_password/2:245)
2025-03-25 11:51:50.406911+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (stun:process/2:255)
2025-03-25 11:51:50.407018+00:00 [debug] Running 'turn_session_start' hook [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (turn:run_hook/3:753)
2025-03-25 11:51:50.407090+00:00 [debug] Got 'turn_session_start' event [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.407139+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.407198+00:00 [debug] Observing started TURN session 91tc3pd2tnlx for Prometheus [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560] (mod_stats_prometheus:on_turn_session_start/1:174)
2025-03-25 11:51:50.407404+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.407458+00:00 [debug] Observing stopped TURN session r9bg4wa1dyn8 for Prometheus [UDP, session r9bg4wa1dyn8, user alice, client 127.0.0.1:44167, relay 127.0.0.1:52284] (mod_stats_prometheus:on_turn_session_stop/1:187)
2025-03-25 11:51:50.407430+00:00 [notice] Creating TURN allocation (lifetime: 600 seconds) [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (turn:wait_for_allocate/2:226)
2025-03-25 11:51:50.407548+00:00 [debug] Sending:
#stun{class = response,method = 3,magic = 554869826,
      trid = 44402358967113407083339121067,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 600,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},44560},
      'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = {{127,0,0,1},61174}} (turn:send/2:549)
2025-03-25 11:51:50.407895+00:00 [debug] Received:
#stun{class = request,method = 4,magic = 554869826,
      trid = 9694459316743071721340741420,
      raw = <<0,4,0,80,33,18,164,66,31,83,17,156,157,64,17,170,143,119,39,44,0,
              6,0,10,50,49,52,53,57,49,51,50,48,48,0,0,0,20,0,11,101,116,117,
              114,110,97,108,46,110,101,116,0,0,21,0,10,49,50,55,48,49,49,51,
              57,49,48,0,0,0,13,0,4,0,0,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<66,227,34,89,251,105,199,199,84,193,67,233,208,
                              248,155,106,84,234,153,105>>,
      'NONCE' = <<"1270113910">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = <<"2145913200">>,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.408042+00:00 [debug] Deriving password for: 2145913200 [UDP, session fg7xxw1uye95, user 2145913200, client 127.0.0.1:44560] (eturnal:get_password/2:245)
2025-03-25 11:51:50.408111+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session fg7xxw1uye95, user 2145913200, client 127.0.0.1:44560] (stun:process/2:255)
2025-03-25 11:51:50.408166+00:00 [info] Client requested closing the TURN session [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (turn:active/2:285)
2025-03-25 11:51:50.408262+00:00 [debug] Sending:
#stun{class = response,method = 4,magic = 554869826,
      trid = 9694459316743071721340741420,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (turn:send/2:549)
2025-03-25 11:51:50.408394+00:00 [info] Deleting TURN allocation [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (turn:terminate/3:482)
2025-03-25 11:51:50.408446+00:00 [notice] Relayed 0 KiB (in 0 B / 0 packets, out 0 B / 0 packets), duration: 0 seconds [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (turn:terminate/3:489)
2025-03-25 11:51:50.408528+00:00 [debug] Running 'turn_session_stop' hook [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (turn:run_hook/3:753)
2025-03-25 11:51:50.408597+00:00 [debug] Got 'turn_session_stop' event [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.408670+00:00 [debug] Calling mod_stats_influx:handle_event/2 [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.408736+00:00 [debug] Writing stats of TURN session 91tc3pd2tnlx to InfluxDB [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (mod_stats_influx:on_turn_session_stop/1:87)
2025-03-25 11:51:50.408885+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.408949+00:00 [debug] Observing stopped TURN session 91tc3pd2tnlx for Prometheus [UDP, session 91tc3pd2tnlx, user 2145913200, client 127.0.0.1:44560, relay 127.0.0.1:61174] (mod_stats_prometheus:on_turn_session_stop/1:187)
2025-03-25 11:51:50.432826+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 39578275241569863701585191623,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:114)
2025-03-25 11:51:50.432933+00:00 [debug] Responding to STUN request [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (stun:process/4:323)
2025-03-25 11:51:50.432974+00:00 [debug] Running 'stun_query' hook [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (stun:run_hook/3:891)
2025-03-25 11:51:50.433034+00:00 [debug] Got 'stun_query' event [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.433077+00:00 [debug] Calling mod_log_stun:handle_event/2 [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.433126+00:00 [info] Responding to STUN request [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (mod_log_stun:handle_event/2:44)
2025-03-25 11:51:50.433168+00:00 [debug] Calling mod_stats_influx:handle_event/2 [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.433216+00:00 [debug] Writing STUN query event to InfluxDB [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (mod_stats_influx:on_stun_query/1:76)
2025-03-25 11:51:50.433329+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.433386+00:00 [debug] Observing STUN query for Prometheus [UDP, session 2z5xeykyr41o, anonymous, client 127.0.0.1:51105] (mod_stats_prometheus:on_stun_query/1:166)
2025-03-25 11:51:50.433487+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 39578275241569863701585191623,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},51105},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:50.457799+00:00 [info] Accepting connection: 127.0.0.1:59698 -> 127.0.0.1:34780 [TCP, session ttm11x19y035] (stun_acceptor:accept/3:158)
2025-03-25 11:51:50.458067+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 14531940020622710759539694323,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:423)
2025-03-25 11:51:50.458195+00:00 [debug] Responding to STUN request [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (stun:process/4:323)
2025-03-25 11:51:50.458268+00:00 [debug] Running 'stun_query' hook [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (stun:run_hook/3:891)
2025-03-25 11:51:50.458334+00:00 [debug] Got 'stun_query' event [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:50.458381+00:00 [debug] Calling mod_log_stun:handle_event/2 [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.458444+00:00 [info] Responding to STUN request [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (mod_log_stun:handle_event/2:44)
2025-03-25 11:51:50.458491+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.458544+00:00 [debug] Writing STUN query event to InfluxDB [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (mod_stats_influx:on_stun_query/1:76)
2025-03-25 11:51:50.458799+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:50.458872+00:00 [debug] Observing STUN query for Prometheus [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (mod_stats_prometheus:on_stun_query/1:166)
2025-03-25 11:51:50.458990+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 14531940020622710759539694323,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},59698},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:50.459270+00:00 [info] Connection reset by peer [TCP, session ttm11x19y035, anonymous, client 127.0.0.1:59698] (stun:handle_info/3:174)
2025-03-25 11:51:50.483643+00:00 [info] Accepting connection: 127.0.0.1:58086 -> 127.0.0.1:53490 [TLS, session 9jp5wxdf10gl] (stun_acceptor:accept/3:158)
2025-03-25 11:51:51.490998+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 52004089187577411293849073543,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:423)
2025-03-25 11:51:51.491167+00:00 [debug] Responding to STUN request [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (stun:process/4:323)
2025-03-25 11:51:51.491219+00:00 [debug] Running 'stun_query' hook [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (stun:run_hook/3:891)
2025-03-25 11:51:51.491322+00:00 [debug] Got 'stun_query' event [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:51.491386+00:00 [debug] Calling mod_log_stun:handle_event/2 [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.491448+00:00 [info] Responding to STUN request [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (mod_log_stun:handle_event/2:44)
2025-03-25 11:51:51.491499+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.491550+00:00 [debug] Writing STUN query event to InfluxDB [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (mod_stats_influx:on_stun_query/1:76)
2025-03-25 11:51:51.491738+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.491815+00:00 [debug] Observing STUN query for Prometheus [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (mod_stats_prometheus:on_stun_query/1:166)
2025-03-25 11:51:51.491914+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 52004089187577411293849073543,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},58086},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:51.492182+00:00 [info] Connection reset by peer [TLS, session 9jp5wxdf10gl, anonymous, client 127.0.0.1:58086] (stun:handle_info/3:174)
2025-03-25 11:51:51.516978+00:00 [info] Accepting connection: 127.0.0.1:45724 -> 127.0.0.1:34781 [TCP|TLS, session gpgoiom38lh6] (stun_acceptor:accept/3:158)
2025-03-25 11:51:51.517144+00:00 [debug] Determined transport protocol: TCP (stun:is_tls_handshake/1:837)
2025-03-25 11:51:51.517385+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 13464124262036649845655259734,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:423)
2025-03-25 11:51:51.517485+00:00 [debug] Responding to STUN request [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (stun:process/4:323)
2025-03-25 11:51:51.517529+00:00 [debug] Running 'stun_query' hook [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (stun:run_hook/3:891)
2025-03-25 11:51:51.517567+00:00 [debug] Got 'stun_query' event [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:51.517644+00:00 [debug] Calling mod_log_stun:handle_event/2 [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.517694+00:00 [info] Responding to STUN request [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (mod_log_stun:handle_event/2:44)
2025-03-25 11:51:51.517744+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.517793+00:00 [debug] Writing STUN query event to InfluxDB [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (mod_stats_influx:on_stun_query/1:76)
2025-03-25 11:51:51.517913+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:51.517960+00:00 [debug] Observing STUN query for Prometheus [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (mod_stats_prometheus:on_stun_query/1:166)
2025-03-25 11:51:51.518074+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 13464124262036649845655259734,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},45724},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:51.518349+00:00 [info] Connection reset by peer [TCP, session gpgoiom38lh6, anonymous, client 127.0.0.1:45724] (stun:handle_info/3:174)
2025-03-25 11:51:51.544494+00:00 [info] Accepting connection: 127.0.0.1:45740 -> 127.0.0.1:34781 [TCP|TLS, session nr19wdf9nehj] (stun_acceptor:accept/3:158)
2025-03-25 11:51:51.544672+00:00 [debug] Determined transport protocol: TLS (stun:is_tls_handshake/1:834)
2025-03-25 11:51:52.552047+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 61543205302821957896775331704,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:423)
2025-03-25 11:51:52.552206+00:00 [debug] Responding to STUN request [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (stun:process/4:323)
2025-03-25 11:51:52.552256+00:00 [debug] Running 'stun_query' hook [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (stun:run_hook/3:891)
2025-03-25 11:51:52.552320+00:00 [debug] Got 'stun_query' event [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (eturnal_module:handle_event/2:177)
2025-03-25 11:51:52.552386+00:00 [debug] Calling mod_log_stun:handle_event/2 [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:52.552443+00:00 [info] Responding to STUN request [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (mod_log_stun:handle_event/2:44)
2025-03-25 11:51:52.552490+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:52.552538+00:00 [debug] Writing STUN query event to InfluxDB [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (mod_stats_influx:on_stun_query/1:76)
2025-03-25 11:51:52.552735+00:00 [debug] Calling mod_stats_prometheus:handle_event/2 [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (eturnal_module:handle_event/2:180)
2025-03-25 11:51:52.552815+00:00 [debug] Observing STUN query for Prometheus [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (mod_stats_prometheus:on_stun_query/1:166)
2025-03-25 11:51:52.552893+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 61543205302821957896775331704,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},45740},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:466)
2025-03-25 11:51:52.553221+00:00 [info] Connection reset by peer [TLS, session nr19wdf9nehj, anonymous, client 127.0.0.1:45740] (stun:handle_info/3:174)
2025-03-25 11:51:52.577570+00:00 [debug] No NOTIFY_SOCKET, dropping STOPPING=1 notification (eturnal_systemd:handle_cast/2:99)
2025-03-25 11:51:52.577585+00:00 [debug] Terminating eturnal (shutdown) (eturnal:terminate/2:186)
2025-03-25 11:51:52.577800+00:00 [info] Stopped listening on 127.0.0.1:34780 (udp) (eturnal:stop_listeners/1:443)
2025-03-25 11:51:52.577970+00:00 [info] Stopped listening on 127.0.0.1:34780 (tcp) (eturnal:stop_listeners/1:443)
2025-03-25 11:51:52.578106+00:00 [info] Stopped listening on 127.0.0.1:53490 (tls) (eturnal:stop_listeners/1:443)
2025-03-25 11:51:52.578236+00:00 [info] Stopped listening on 127.0.0.1:34781 (auto) (eturnal:stop_listeners/1:443)
2025-03-25 11:51:52.578943+00:00 [debug] Calling mod_stats_influx:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:52.579052+00:00 [debug] Stopping mod_stats_influx (mod_stats_influx:stop/0:61)
2025-03-25 11:51:52.579135+00:00 [info] Stopped mod_stats_influx (eturnal:stop_modules/1:398)
2025-03-25 11:51:52.580389+00:00 [debug] Calling mod_log_stun:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:52.580486+00:00 [debug] Stopping mod_log_stun (mod_log_stun:stop/0:49)
2025-03-25 11:51:52.580557+00:00 [info] Stopped mod_log_stun (eturnal:stop_modules/1:398)
2025-03-25 11:51:52.583629+00:00 [debug] Calling mod_stats_prometheus:stop/1 (eturnal_module:stop/1:163)
2025-03-25 11:51:52.583772+00:00 [debug] Stopping mod_stats_prometheus (mod_stats_prometheus:stop/0:110)
2025-03-25 11:51:52.584172+00:00 [info] Stopped mod_stats_prometheus (eturnal:stop_modules/1:398)
2025-03-25 11:51:52.584547+00:00 [debug] Removed run/cert.pem (eturnal:clean_run_dir/0:872)
2025-03-25 11:51:52.584733+00:00 [debug] Terminating eturnal_systemd (shutdown) (eturnal_systemd:terminate/2:125)
2025-03-25 11:51:52.584923+00:00 [notice] Stopping eturnal 1.12.1 on Erlang/OTP 27 (ERTS 15.2.3) (eturnal_app:stop/1:53)
