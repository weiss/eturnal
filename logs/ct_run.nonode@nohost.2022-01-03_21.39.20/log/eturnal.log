2022-01-03 21:39:21.479215+00:00 [notice] Starting eturnal 1.7.0 on Erlang/OTP 24 (ERTS 12.2) (eturnal_app:start/2:34)
2022-01-03 21:39:21.479482+00:00 [debug] Starting supervisor: eturnal_sup (eturnal_sup:start_link/0:32)
2022-01-03 21:39:21.479706+00:00 [debug] Configuring eturnal_sup supervisor: [#{id => systemd,
                                       start =>
                                           {eturnal_systemd,start_link,[]}},
                                     #{id => eturnal,
                                       start => {eturnal,start_link,[]}}] (eturnal_sup:init/0:40)
2022-01-03 21:39:21.481880+00:00 [info] Got no NOTIFY_SOCKET, notifications disabled (eturnal_systemd:init/1:95)
2022-01-03 21:39:21.482103+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,eturnal_sup}
    started: [{pid,<0.715.0>},
              {id,systemd},
              {mfargs,{eturnal_systemd,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/2:1562)
2022-01-03 21:39:21.518088+00:00 [info] Cannot determine control query port: noport (eturnal:log_control_listener/0:282)
2022-01-03 21:39:21.518355+00:00 [debug] TURN configuration seems fine (eturnal:check_turn_config/2:484)
2022-01-03 21:39:21.518706+00:00 [debug] Using run directory run (eturnal:ensure_run_dir/0:676)
2022-01-03 21:39:21.518920+00:00 [warning] TLS enabled without 'tls_crt_file', creating self-signed certificate (eturnal:check_pem_file/0:607)
2022-01-03 21:39:22.222902+00:00 [debug] Calling mod_log_stun:start/0 (eturnal_module:start/1:138)
2022-01-03 21:39:22.223183+00:00 [debug] Starting mod_log_stun (mod_log_stun:start/0:39)
2022-01-03 21:39:22.223442+00:00 [info] Started mod_log_stun (eturnal:start_modules/0:293)
2022-01-03 21:39:22.223578+00:00 [debug] Calling mod_stats_influx:start/0 (eturnal_module:start/1:138)
2022-01-03 21:39:22.223696+00:00 [debug] Starting mod_stats_influx (mod_stats_influx:start/0:38)
2022-01-03 21:39:22.228282+00:00 [debug] PROGRESS REPORT:
    application: ulitos
    started_at: nonode@nohost
 (application_controller:info_started/2:2107)
2022-01-03 21:39:22.230772+00:00 [debug] PROGRESS REPORT:
    application: poolboy
    started_at: nonode@nohost
 (application_controller:info_started/2:2107)
2022-01-03 21:39:22.232919+00:00 [info]     msg: Starting application: influx_udp (influx_udp_app:start/2:10)
2022-01-03 21:39:22.236529+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,influx_udp_sup}
    started: [{pid,<0.735.0>},
              {id,influx_udp},
              {mfargs,{influx_udp,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/2:1562)
2022-01-03 21:39:22.236756+00:00 [debug] PROGRESS REPORT:
    application: influx_udp
    started_at: nonode@nohost
 (application_controller:info_started/2:2107)
2022-01-03 21:39:22.236837+00:00 [debug] Dependency influx_udp was available already (eturnal_module:ensure_dep/2:280)
2022-01-03 21:39:22.240865+00:00 [info]     host: {127,0,0,1}
    msg: Start clients pool
    options: #{host => "localhost",max_overflow => 1,pool_size => 1,
               port => 8089} (influx_udp:start_pool_/2:239)
2022-01-03 21:39:22.252686+00:00 [info]     msg: Open UDP socket on port
    port: 49979 (influx_udp_worker:init/1:43)
2022-01-03 21:39:22.253072+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,influx_udp_sup}
    started: [{pid,<0.738.0>},
              {id,stats_influx_pool},
              {mfargs,
                  {poolboy,start_link,
                      [[{name,{local,stats_influx_pool}},
                        {worker_module,influx_udp_worker},
                        {size,1},
                        {max_overflow,1}],
                       [{options,
                            #{host => {127,0,0,1},
                              max_overflow => 1,pool_size => 1,
                              port => 8089}}]]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/2:1562)
2022-01-03 21:39:22.253319+00:00 [info] Started mod_stats_influx (eturnal:start_modules/0:293)
2022-01-03 21:39:22.253832+00:00 [debug] Started 2 modules (eturnal:init/1:109)
2022-01-03 21:39:22.254132+00:00 [debug] Starting listener 127.0.0.1:34780 (udp) with options:
[{use_turn,true},
 {auth_type,user},
 {turn_ipv4_address,{10,1,1,63}},
 {turn_ipv6_address,{0,0,0,0,0,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {turn_blacklist,[{{203,0,113,4},32},{{8193,3512,0,0,0,0,0,4},128}]},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2}] (eturnal:start_listeners/0:337)
2022-01-03 21:39:22.254575+00:00 [info] Listening on 127.0.0.1:34780 (udp) (STUN/TURN) (eturnal:start_listeners/0:342)
2022-01-03 21:39:22.254806+00:00 [debug] Starting listener 127.0.0.1:34780 (tcp) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {turn_ipv4_address,{10,1,1,63}},
 {turn_ipv6_address,{0,0,0,0,0,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {turn_blacklist,[{{203,0,113,4},32},{{8193,3512,0,0,0,0,0,4},128}]},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2}] (eturnal:start_listeners/0:337)
2022-01-03 21:39:22.274873+00:00 [info] Listening on 127.0.0.1:34780 (tcp) (STUN only) (eturnal:start_listeners/0:342)
2022-01-03 21:39:22.275089+00:00 [debug] Starting listener 127.0.0.1:53490 (tls) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {tls,true},
 {certfile,<<"run/cert.pem">>},
 {turn_ipv4_address,{10,1,1,63}},
 {turn_ipv6_address,{0,0,0,0,0,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {turn_blacklist,[{{203,0,113,4},32},{{8193,3512,0,0,0,0,0,4},128}]},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2}] (eturnal:start_listeners/0:337)
2022-01-03 21:39:22.275735+00:00 [info] Listening on 127.0.0.1:53490 (tls) (STUN only) (eturnal:start_listeners/0:342)
2022-01-03 21:39:22.275953+00:00 [debug] Starting listener 127.0.0.1:34781 (auto) with options:
[{use_turn,false},
 {auth_type,anonymous},
 {tls,optional},
 {certfile,<<"run/cert.pem">>},
 {turn_ipv4_address,{10,1,1,63}},
 {turn_ipv6_address,{0,0,0,0,0,0,0,1}},
 {turn_min_port,49152},
 {turn_max_port,65535},
 {turn_max_allocations,10},
 {turn_max_permissions,10},
 {shaper,100000},
 {turn_blacklist,[{{203,0,113,4},32},{{8193,3512,0,0,0,0,0,4},128}]},
 {auth_realm,<<"eturnal.net">>},
 {server_name,<<"eturnal">>},
 {auth_fun,fun eturnal:get_password/2},
 {hook_fun,fun eturnal:run_hook/2}] (eturnal:start_listeners/0:337)
2022-01-03 21:39:22.302309+00:00 [info] Listening on 127.0.0.1:34781 (auto) (STUN only) (eturnal:start_listeners/0:342)
2022-01-03 21:39:22.302551+00:00 [debug] Started 4 listeners (eturnal:init/1:117)
2022-01-03 21:39:22.302778+00:00 [debug] PROGRESS REPORT:
    supervisor: {local,eturnal_sup}
    started: [{pid,<0.717.0>},
              {id,eturnal},
              {mfargs,{eturnal,start_link,[]}},
              {restart_type,permanent},
              {significant,false},
              {shutdown,5000},
              {child_type,worker}]
 (supervisor:report_progress/2:1562)
2022-01-03 21:39:22.302940+00:00 [debug] No NOTIFY_SOCKET, dropping READY=1 notification (eturnal_systemd:handle_cast/2:109)
2022-01-03 21:39:22.302981+00:00 [debug] PROGRESS REPORT:
    application: eturnal
    started_at: nonode@nohost
 (application_controller:info_started/2:2107)
2022-01-03 21:39:22.303124+00:00 [debug] Watchdog interval is undefined, hibernating (eturnal_systemd:get_timeout/1:162)
2022-01-03 21:39:22.349702+00:00 [debug] Handling API call: get_info() (eturnal_ctl:get_info/0:119)
2022-01-03 21:39:22.350326+00:00 [debug] eturnal call (get_info) returned {ok,
                                  {eturnal_node_info,<<"1.7.0">>,
                                   {"24","12.2"},
                                   4275,0,137,85876651,2,39122888}} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.375971+00:00 [debug] Handling API call: get_sessions() (eturnal_ctl:get_sessions/0:105)
2022-01-03 21:39:22.401826+00:00 [debug] Handling API call: get_credentials("2009-10-30 11:00:00Z", []) (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.402144+00:00 [debug] eturnal call ({get_password,<<"1256900400">>}) returned {ok,
                                                         <<"uEKlpcME7MNMMVRV8rUFPCTIFEs=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.409713+00:00 [debug] Handling API call: get_credentials("86400", "alice") (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.410007+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.410376+00:00 [debug] Handling API call: get_password("1641332362:alice") (eturnal_ctl:get_password/1:78)
2022-01-03 21:39:22.410577+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.410852+00:00 [debug] Handling API call: get_credentials("86400s", "alice") (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.411072+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.411264+00:00 [debug] Handling API call: get_password("1641332362:alice") (eturnal_ctl:get_password/1:78)
2022-01-03 21:39:22.411435+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.411632+00:00 [debug] Handling API call: get_credentials("1440m", "alice") (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.411777+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.411923+00:00 [debug] Handling API call: get_password("1641332362:alice") (eturnal_ctl:get_password/1:78)
2022-01-03 21:39:22.412051+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.412238+00:00 [debug] Handling API call: get_credentials("24h", "alice") (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.412378+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.412547+00:00 [debug] Handling API call: get_password("1641332362:alice") (eturnal_ctl:get_password/1:78)
2022-01-03 21:39:22.412685+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.413993+00:00 [debug] Handling API call: get_credentials("1d", "alice") (eturnal_ctl:get_credentials/2:56)
2022-01-03 21:39:22.414188+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.414334+00:00 [debug] Handling API call: get_password("1641332362:alice") (eturnal_ctl:get_password/1:78)
2022-01-03 21:39:22.414489+00:00 [debug] eturnal call ({get_password,<<"1641332362:alice">>}) returned {ok,
                                                               <<"qUmWAMOLOgf7pi/5DCNiMqnE0Hg=">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.439557+00:00 [debug] Handling API call: set_loglevel(debug) (eturnal_ctl:set_loglevel/1:149)
2022-01-03 21:39:22.439886+00:00 [debug] eturnal call ({set_loglevel,debug}) returned ok (eturnal_ctl:call/1:385)
2022-01-03 21:39:22.440274+00:00 [debug] Handling API call: get_loglevel() (eturnal_ctl:get_loglevel/0:139)
2022-01-03 21:39:22.440749+00:00 [debug] eturnal call (get_loglevel) returned {ok,debug} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.465938+00:00 [debug] Handling API call: get_version() (eturnal_ctl:get_version/0:129)
2022-01-03 21:39:22.466218+00:00 [debug] eturnal call (get_version) returned {ok,<<"1.7.0">>} (eturnal_ctl:call/1:388)
2022-01-03 21:39:22.492036+00:00 [debug] Handling API call: reload() (eturnal_ctl:reload/0:168)
2022-01-03 21:39:22.494093+00:00 [warning] TLS enabled without 'tls_crt_file', creating self-signed certificate (eturnal:check_pem_file/0:607)
2022-01-03 21:39:23.242447+00:00 [info] Using new TLS certificate (eturnal:handle_call/3:136)
2022-01-03 21:39:23.242697+00:00 [debug] Reloaded configuration (eturnal:handle_call/3:142)
2022-01-03 21:39:23.242866+00:00 [debug] eturnal call (reload) returned ok (eturnal_ctl:call/1:385)
2022-01-03 21:39:23.243255+00:00 [debug] Handling API call: reload() (eturnal_ctl:reload/0:168)
2022-01-03 21:39:23.245504+00:00 [debug] Keeping PEM file (run/cert.pem) (eturnal:check_pem_file/0:604)
2022-01-03 21:39:23.245719+00:00 [debug] TLS certificate unchanged (eturnal:handle_call/3:138)
2022-01-03 21:39:23.245892+00:00 [debug] Reloaded configuration (eturnal:handle_call/3:142)
2022-01-03 21:39:23.246063+00:00 [debug] eturnal call (reload) returned ok (eturnal_ctl:call/1:385)
2022-01-03 21:39:23.271312+00:00 [info] Accepting connection: 127.0.0.1:56340 -> 127.0.0.1:34780 [TCP, session z] (stun_listener:accept/3:221)
2022-01-03 21:39:23.296614+00:00 [info] Accepting connection: 127.0.0.1:33962 -> 127.0.0.1:53490 [TLS, session 2] (stun_listener:accept/3:221)
2022-01-03 21:39:23.327876+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 45438913504490771094325899300,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:111)
2022-01-03 21:39:23.328105+00:00 [debug] Sending:
#stun{class = error,method = 3,magic = 554869826,
      trid = 45438913504490771094325899300,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = {401,<<"Unauthorized">>},
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = <<"3011735198">>,
      'REALM' = <<"eturnal.net">>,'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.328522+00:00 [debug] Received:
#stun{class = request,method = 3,magic = 554869826,
      trid = 3751753857370614960155767059,
      raw = <<0,3,0,80,33,18,164,66,12,31,96,200,35,189,32,152,241,235,177,19,
              0,25,0,4,17,0,0,0,0,6,0,10,50,49,52,53,57,49,51,50,48,48,0,0,0,
              20,0,11,101,116,117,114,110,97,108,46,110,101,116,0,0,21,0,10,51,
              48,49,49,55,51,53,49,57,56,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = undefined,
      'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<74,85,50,91,188,142,134,84,62,219,149,84,40,89,
                              163,215,132,46,69,249>>,
      'NONCE' = <<"3011735198">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,'REQUESTED-TRANSPORT' = udp,
      'SOFTWARE' = undefined,'UNKNOWN-ATTRIBUTES' = [],
      'USERNAME' = <<"2145913200">>,'XOR-MAPPED-ADDRESS' = undefined,
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:111)
2022-01-03 21:39:23.328685+00:00 [debug] Looking up password for: 2145913200 [UDP, session 36, user 2145913200, client 127.0.0.1:39729] (eturnal:get_password/2:221)
2022-01-03 21:39:23.328756+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session 36, user 2145913200, client 127.0.0.1:39729] (stun:process/2:249)
2022-01-03 21:39:23.332820+00:00 [debug] Running 'turn_session_start' hook [UDP, session 36, user 2145913200, client 127.0.0.1:39729] (turn:run_hook/2:701)
2022-01-03 21:39:23.332922+00:00 [debug] Got 'turn_session_start' event [UDP, session 36, user 2145913200, client 127.0.0.1:39729] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.333206+00:00 [notice] Creating TURN allocation (lifetime: 599 seconds) [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (turn:wait_for_allocate/2:205)
2022-01-03 21:39:23.333345+00:00 [debug] Sending:
#stun{class = response,method = 3,magic = 554869826,
      trid = 3751753857370614960155767059,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 599,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},39729},
      'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = {{10,1,1,63},52887}} (turn:send/2:519)
2022-01-03 21:39:23.333767+00:00 [debug] Received:
#stun{class = request,method = 4,magic = 554869826,
      trid = 69079165443093950422038254233,
      raw = <<0,4,0,80,33,18,164,66,223,52,242,70,88,42,190,147,154,66,146,153,
              0,6,0,10,50,49,52,53,57,49,51,50,48,48,0,0,0,20,0,11,101,116,117,
              114,110,97,108,46,110,101,116,0,0,21,0,10,51,48,49,49,55,51,53,
              49,57,56,0,0,0,13,0,4,0,0,0,0>>,
      unsupported = [],'ALTERNATE-SERVER' = undefined,
      'CHANNEL-NUMBER' = undefined,'DATA' = undefined,'DONT-FRAGMENT' = false,
      'ERROR-CODE' = undefined,'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = <<83,219,102,124,51,43,201,150,239,96,165,178,189,
                              12,249,86,230,151,220,124>>,
      'NONCE' = <<"3011735198">>,'REALM' = <<"eturnal.net">>,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = <<"2145913200">>,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:111)
2022-01-03 21:39:23.333916+00:00 [debug] Looking up password for: 2145913200 [UDP, session 42, user 2145913200, client 127.0.0.1:39729] (eturnal:get_password/2:221)
2022-01-03 21:39:23.333992+00:00 [info] Accepting long-term STUN/TURN authentication [UDP, session 42, user 2145913200, client 127.0.0.1:39729] (stun:process/2:249)
2022-01-03 21:39:23.334071+00:00 [info] Client requested closing the TURN session [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (turn:active/2:260)
2022-01-03 21:39:23.334169+00:00 [debug] Sending:
#stun{class = response,method = 4,magic = 554869826,
      trid = 69079165443093950422038254233,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = 0,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (turn:send/2:519)
2022-01-03 21:39:23.334293+00:00 [info] Deleting TURN allocation [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (turn:terminate/3:452)
2022-01-03 21:39:23.334461+00:00 [notice] Relayed 0 KiB (in 0 B / 0 packets, out 0 B / 0 packets), duration: 0 seconds [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (turn:terminate/3:459)
2022-01-03 21:39:23.334541+00:00 [debug] Running 'turn_session_stop' hook [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (turn:run_hook/2:701)
2022-01-03 21:39:23.334616+00:00 [debug] Got 'turn_session_stop' event [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.334725+00:00 [debug] Calling mod_stats_influx:handle_event/2 [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.334782+00:00 [debug] Writing stats of TURN session 36 to InfluxDB [UDP, session 36, user 2145913200, client 127.0.0.1:39729, relay 10.1.1.63:52887] (mod_stats_influx:on_turn_session_stop/1:81)
2022-01-03 21:39:23.359034+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 29781560049883666446088434488,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:udp_recv/5:111)
2022-01-03 21:39:23.359180+00:00 [debug] Responding to STUN request [UDP, session 4y, anonymous, client 127.0.0.1:60663] (stun:process/3:308)
2022-01-03 21:39:23.359240+00:00 [debug] Running 'stun_query' hook [UDP, session 4y, anonymous, client 127.0.0.1:60663] (stun:run_hook/3:781)
2022-01-03 21:39:23.359290+00:00 [debug] Got 'stun_query' event [UDP, session 4y, anonymous, client 127.0.0.1:60663] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.359335+00:00 [debug] Calling mod_log_stun:handle_event/2 [UDP, session 4y, anonymous, client 127.0.0.1:60663] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.359382+00:00 [info] Responding to STUN request [UDP, session 4y, anonymous, client 127.0.0.1:60663] (mod_log_stun:handle_event/2:45)
2022-01-03 21:39:23.359424+00:00 [debug] Calling mod_stats_influx:handle_event/2 [UDP, session 4y, anonymous, client 127.0.0.1:60663] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.359460+00:00 [debug] Writing STUN query event to InfluxDB [UDP, session 4y, anonymous, client 127.0.0.1:60663] (mod_stats_influx:on_stun_query/1:70)
2022-01-03 21:39:23.359707+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 29781560049883666446088434488,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"eturnal">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},60663},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.385032+00:00 [info] Accepting connection: 127.0.0.1:56344 -> 127.0.0.1:34780 [TCP, session y] (stun_listener:accept/3:221)
2022-01-03 21:39:23.385437+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 67931300043568741562337509037,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:392)
2022-01-03 21:39:23.385558+00:00 [debug] Responding to STUN request [TCP, session y, anonymous, client 127.0.0.1:56344] (stun:process/3:308)
2022-01-03 21:39:23.385603+00:00 [debug] Running 'stun_query' hook [TCP, session y, anonymous, client 127.0.0.1:56344] (stun:run_hook/3:781)
2022-01-03 21:39:23.385720+00:00 [debug] Got 'stun_query' event [TCP, session y, anonymous, client 127.0.0.1:56344] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.385803+00:00 [debug] Calling mod_log_stun:handle_event/2 [TCP, session y, anonymous, client 127.0.0.1:56344] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.385869+00:00 [info] Responding to STUN request [TCP, session y, anonymous, client 127.0.0.1:56344] (mod_log_stun:handle_event/2:45)
2022-01-03 21:39:23.385932+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TCP, session y, anonymous, client 127.0.0.1:56344] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.385976+00:00 [debug] Writing STUN query event to InfluxDB [TCP, session y, anonymous, client 127.0.0.1:56344] (mod_stats_influx:on_stun_query/1:70)
2022-01-03 21:39:23.386246+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 67931300043568741562337509037,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},56344},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.386572+00:00 [info] Connection reset by peer [TCP, session y, anonymous, client 127.0.0.1:56344] (stun:handle_info/3:171)
2022-01-03 21:39:23.411791+00:00 [info] Accepting connection: 127.0.0.1:33966 -> 127.0.0.1:53490 [TLS, session 1e] (stun_listener:accept/3:221)
2022-01-03 21:39:23.521368+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 23195052327337406291815816075,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:392)
2022-01-03 21:39:23.521542+00:00 [debug] Responding to STUN request [TLS, session 1e, anonymous, client 127.0.0.1:33966] (stun:process/3:308)
2022-01-03 21:39:23.521589+00:00 [debug] Running 'stun_query' hook [TLS, session 1e, anonymous, client 127.0.0.1:33966] (stun:run_hook/3:781)
2022-01-03 21:39:23.521669+00:00 [debug] Got 'stun_query' event [TLS, session 1e, anonymous, client 127.0.0.1:33966] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.521711+00:00 [debug] Calling mod_log_stun:handle_event/2 [TLS, session 1e, anonymous, client 127.0.0.1:33966] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.521799+00:00 [info] Responding to STUN request [TLS, session 1e, anonymous, client 127.0.0.1:33966] (mod_log_stun:handle_event/2:45)
2022-01-03 21:39:23.521839+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TLS, session 1e, anonymous, client 127.0.0.1:33966] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.521875+00:00 [debug] Writing STUN query event to InfluxDB [TLS, session 1e, anonymous, client 127.0.0.1:33966] (mod_stats_influx:on_stun_query/1:70)
2022-01-03 21:39:23.522164+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 23195052327337406291815816075,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},33966},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.522504+00:00 [info] Connection reset by peer [TLS, session 1e, anonymous, client 127.0.0.1:33966] (stun:handle_info/3:171)
2022-01-03 21:39:23.548227+00:00 [info] Accepting connection: 127.0.0.1:37518 -> 127.0.0.1:34781 [TCP|TLS, session i] (stun_listener:accept/3:221)
2022-01-03 21:39:23.548411+00:00 [debug] Determined transport protocol: TCP (stun:is_tls_handshake/1:745)
2022-01-03 21:39:23.548854+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 3601130769190993514176137750,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:392)
2022-01-03 21:39:23.548998+00:00 [debug] Responding to STUN request [TCP, session i, anonymous, client 127.0.0.1:37518] (stun:process/3:308)
2022-01-03 21:39:23.549060+00:00 [debug] Running 'stun_query' hook [TCP, session i, anonymous, client 127.0.0.1:37518] (stun:run_hook/3:781)
2022-01-03 21:39:23.549117+00:00 [debug] Got 'stun_query' event [TCP, session i, anonymous, client 127.0.0.1:37518] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.549171+00:00 [debug] Calling mod_log_stun:handle_event/2 [TCP, session i, anonymous, client 127.0.0.1:37518] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.549220+00:00 [info] Responding to STUN request [TCP, session i, anonymous, client 127.0.0.1:37518] (mod_log_stun:handle_event/2:45)
2022-01-03 21:39:23.549288+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TCP, session i, anonymous, client 127.0.0.1:37518] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.549336+00:00 [debug] Writing STUN query event to InfluxDB [TCP, session i, anonymous, client 127.0.0.1:37518] (mod_stats_influx:on_stun_query/1:70)
2022-01-03 21:39:23.549569+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 3601130769190993514176137750,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},37518},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.549868+00:00 [info] Connection reset by peer [TCP, session i, anonymous, client 127.0.0.1:37518] (stun:handle_info/3:171)
2022-01-03 21:39:23.576457+00:00 [info] Accepting connection: 127.0.0.1:37520 -> 127.0.0.1:34781 [TCP|TLS, session 76] (stun_listener:accept/3:221)
2022-01-03 21:39:23.576623+00:00 [debug] Determined transport protocol: TLS (stun:is_tls_handshake/1:742)
2022-01-03 21:39:23.684407+00:00 [debug] Received:
#stun{class = request,method = 1,magic = 554869826,
      trid = 2196379519792242118417260688,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = undefined,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = undefined,'XOR-PEER-ADDRESS' = [],
      'XOR-RELAYED-ADDRESS' = undefined} (stun:process_data/3:392)
2022-01-03 21:39:23.684587+00:00 [debug] Responding to STUN request [TLS, session 76, anonymous, client 127.0.0.1:37520] (stun:process/3:308)
2022-01-03 21:39:23.684637+00:00 [debug] Running 'stun_query' hook [TLS, session 76, anonymous, client 127.0.0.1:37520] (stun:run_hook/3:781)
2022-01-03 21:39:23.684709+00:00 [debug] Got 'stun_query' event [TLS, session 76, anonymous, client 127.0.0.1:37520] (eturnal_module:handle_event/2:173)
2022-01-03 21:39:23.684749+00:00 [debug] Calling mod_log_stun:handle_event/2 [TLS, session 76, anonymous, client 127.0.0.1:37520] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.684788+00:00 [info] Responding to STUN request [TLS, session 76, anonymous, client 127.0.0.1:37520] (mod_log_stun:handle_event/2:45)
2022-01-03 21:39:23.684840+00:00 [debug] Calling mod_stats_influx:handle_event/2 [TLS, session 76, anonymous, client 127.0.0.1:37520] (eturnal_module:handle_event/2:176)
2022-01-03 21:39:23.684871+00:00 [debug] Writing STUN query event to InfluxDB [TLS, session 76, anonymous, client 127.0.0.1:37520] (mod_stats_influx:on_stun_query/1:70)
2022-01-03 21:39:23.685172+00:00 [debug] Sending:
#stun{class = response,method = 1,magic = 554869826,
      trid = 2196379519792242118417260688,raw = <<>>,unsupported = [],
      'ALTERNATE-SERVER' = undefined,'CHANNEL-NUMBER' = undefined,
      'DATA' = undefined,'DONT-FRAGMENT' = false,'ERROR-CODE' = undefined,
      'LIFETIME' = undefined,'MAPPED-ADDRESS' = undefined,
      'MESSAGE-INTEGRITY' = undefined,'NONCE' = undefined,'REALM' = undefined,
      'REQUESTED-ADDRESS-FAMILY' = undefined,
      'REQUESTED-TRANSPORT' = undefined,'SOFTWARE' = <<"P1 STUN library">>,
      'UNKNOWN-ATTRIBUTES' = [],'USERNAME' = undefined,
      'XOR-MAPPED-ADDRESS' = {{127,0,0,1},37520},
      'XOR-PEER-ADDRESS' = [],'XOR-RELAYED-ADDRESS' = undefined} (stun:send/3:433)
2022-01-03 21:39:23.685672+00:00 [info] Connection reset by peer [TLS, session 76, anonymous, client 127.0.0.1:37520] (stun:handle_info/3:171)
2022-01-03 21:39:23.712539+00:00 [debug] Terminating eturnal (shutdown) (eturnal:terminate/2:196)
2022-01-03 21:39:23.712526+00:00 [debug] No NOTIFY_SOCKET, dropping STOPPING=1 notification (eturnal_systemd:handle_cast/2:109)
2022-01-03 21:39:23.712784+00:00 [info] Stopped listening on 127.0.0.1:34780 (udp) (eturnal:stop_listeners/1:365)
2022-01-03 21:39:23.712780+00:00 [debug] Watchdog interval is undefined, hibernating (eturnal_systemd:get_timeout/1:162)
2022-01-03 21:39:23.713055+00:00 [info] Stopped listening on 127.0.0.1:34780 (tcp) (eturnal:stop_listeners/1:365)
2022-01-03 21:39:23.713190+00:00 [info] Stopped listening on 127.0.0.1:53490 (tls) (eturnal:stop_listeners/1:365)
2022-01-03 21:39:23.713503+00:00 [info] Stopped listening on 127.0.0.1:34781 (auto) (eturnal:stop_listeners/1:365)
2022-01-03 21:39:23.714258+00:00 [debug] Module mod_log_stun doesn't export stop/1 (eturnal_module:stop/1:167)
2022-01-03 21:39:23.714420+00:00 [info] Stopped mod_log_stun (eturnal:stop_modules/1:313)
2022-01-03 21:39:23.715498+00:00 [debug] Module mod_stats_influx doesn't export stop/1 (eturnal_module:stop/1:167)
2022-01-03 21:39:23.715666+00:00 [info] Stopped mod_stats_influx (eturnal:stop_modules/1:313)
2022-01-03 21:39:23.716292+00:00 [debug] Removed run/cert.pem (eturnal:clean_run_dir/0:691)
2022-01-03 21:39:23.716831+00:00 [debug] Terminating eturnal_systemd (shutdown) (eturnal_systemd:terminate/2:136)
2022-01-03 21:39:23.717106+00:00 [notice] Stopping eturnal 1.7.0 on Erlang/OTP 24 (ERTS 12.2) (eturnal_app:stop/1:53)
2022-01-03 21:39:23.718105+00:00 [notice]     application: eturnal
    exited: stopped
    type: temporary
 (application_controller:info_exited/3:2119)
